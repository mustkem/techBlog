{"ast":null,"code":"import { actionTypes } from \"../ActionsTypes/actionTypes\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../config\";\nexport const addPost = payload => {\n  return dispatch => {// axios({\n    //   method: \"post\",\n    //   url: API_URL + \"/admin/feed/post\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     Authorization: \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\"),\n    //   },\n    //   data:payload\n    // })\n    //   .then(function (response) {\n    //       return response.data;\n    //   })\n    //   .catch(function (error) {\n    //     return error;\n    //   });\n  };\n};\nexport const getAdminPosts = payload => {\n  return (dispatch, getState) => {\n    axios({\n      method: \"get\",\n      url: API_URL + \"/admin/feed/post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\")\n      },\n      params: {\n        user: \"test\"\n      }\n    }).then(function (response) {\n      return response.data;\n    }).catch(function (error) {\n      return error;\n    });\n  };\n};\nexport const testActionCreator = payload => {};\nexport const getPosts2 = payload => {\n  return dispatch => {\n    return axios({\n      method: \"get\",\n      url: API_URL + \"/feed/posts\",\n      params: payload\n    }).then(function (response) {\n      dispatch(onGetPosts({\n        loading: false,\n        posts: response.data.posts\n      }));\n      return response.data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport const getPost2 = slug => {\n  return dispatch => {\n    return axios({\n      method: \"get\",\n      url: API_URL + \"/feed/post/\" + slug\n    }).then(function (response) {\n      dispatch(onGetPost(response.data.post));\n      return response.data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport function onGetPosts(payload) {\n  return {\n    type: actionTypes.GET_POSTS,\n    payload: payload\n  };\n}\nexport function onGetPost(payload) {\n  return {\n    type: actionTypes.GET_POST,\n    payload: payload\n  };\n}\nexport const login = (payload, history) => {\n  return dispatch => {\n    return axios({\n      method: \"post\",\n      url: API_URL + \"/admin/auth/login\",\n      data: payload\n    }).then(function (response) {\n      localStorage.setItem(\"codemedium-token-admin\", response.data.token);\n      dispatch(loginAction(response.data.user));\n      history.push(\"/admin/posts/home\");\n      return response.data;\n    }).catch(function (error) {\n      console.log(error);\n      alert(\"Wrong credentials\");\n    });\n  };\n};\nexport function loginAction(payload) {\n  return {\n    type: actionTypes.LOGIN_SUCCESS,\n    payload\n  };\n}","map":null,"metadata":{},"sourceType":"module"}