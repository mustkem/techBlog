(window.webpackJsonpmarioplan=window.webpackJsonpmarioplan||[]).push([[0],{342:function(e,t,a){e.exports=a(671)},347:function(e,t,a){},350:function(e,t,a){},546:function(e,t,a){},668:function(e,t,a){},669:function(e,t,a){},671:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(36),r=a.n(o),c=(a(347),a(348),a(349),a(350),a(15)),i=a(67),s=a(334),u=a(107),m=a(207),d=a(42),p="ADD_POST",h="GET_POSTS",g="LOGIN_SUCCESS",E={};var f={};var v=Object(i.c)({page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),t);case h:return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},firestore:u.firestoreReducer,profileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(d.a)(Object(d.a)({},e),{},{user:t.payload});default:return e}}}),y=a(151);a(672),a(531);y.a.initializeApp({apiKey:"AIzaSyB4g1fFy8mVY9fs5c7dW0ti7t53zP2Y2rs",authDomain:"my-project-1525784461261.firebaseapp.com",databaseURL:"https://my-project-1525784461261.firebaseio.com",projectId:"my-project-1525784461261",storageBucket:"",messagingSenderId:"234456308154",appId:"1:234456308154:web:21336fccce9f972d"}),y.a.firestore().settings({});var b=y.a,C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,N=Object(i.e)(v,C(Object(i.a)(s.a.withExtraArgument({getFirebase:m.getFirebase,getFirestore:u.getFirestore})),Object(u.reduxFirestore)(b),Object(m.reactReduxFirebase)(b))),j=a(27),k=a(7),O=a(17),S=a(18),w=a(20),T=a(19),P=a(702),x=a(108),B=a(335),I=function(){return l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"advertisement"}),l.a.createElement("div",{className:"advertisement"},l.a.createElement("a",{style:{display:"inline-block"},target:"_blank",href:"https://www.gravityforms.com/?promo=80256"},l.a.createElement("img",{src:"/images/right-banner4.png"}))))},D="https://codemedium-backend.herokuapp.com";a(546);var R=function(e){var t=e.item;return l.a.createElement("li",{className:"post-card"},l.a.createElement(j.b,{className:"link title",to:"/"+t.slug},l.a.createElement("div",{className:"post-content"},l.a.createElement("div",{className:"sec-1"},l.a.createElement("div",null,l.a.createElement("h2",null,t.title),l.a.createElement("div",{className:"desc"},t.desc)),l.a.createElement("div",{className:"category-sec"},t.categories&&t.categories.map((function(e){return l.a.createElement("div",{className:"category"}," ",e.label," ")})))),l.a.createElement("div",{className:"sec-2"},l.a.createElement("div",{className:"figure-content"},l.a.createElement("img",{style:{height:"100%",width:"100%",objectFit:"cover"},src:D+"/"+t.imageUrl}))))))},_=a(703),M=a(25),A=a.n(M),F=function(e){return function(t,a,n){n.getFirebase,n.getFirestore;return t(U({loading:!0})),A()({method:"get",url:D+"/feed/posts",params:e}).then((function(e){return t(U({loading:!1,posts:e.data.posts})),e.data})).catch((function(e){console.log(e)}))}},L=function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("posts").where("slug","==",e.slug).get().then((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),window.post=t}))}};function U(e){return{type:h,payload:e}}var z=function(e){return function(t,a,n){n.getFirebase;var l=(0,n.getFirestore)().collection("posts");l.where("slug","==",e.query.slug).get().then((function(t){t.forEach((function(t){console.log(t.id," => ",t.data()),l.doc(t.id).update(e.dataToPost)}))}))}};function H(e){return{type:g,payload:e}}var K=Object(k.h)(Object(c.b)(null,(function(e){return{getPosts:function(t){return e(F(t))}}}))((function(e){console.log("test");var t=function(t){var a=Object(x.parse)(e.location.search);a.category=t.category;var n={};Object.keys(a).forEach((function(e){a[e]&&(n[e]=a[e])})),e.history.push("/?"+Object(x.stringify)(n)),e.getPosts(a)};return l.a.createElement("div",{className:"header top"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"header-content",style:{display:"flex"}},l.a.createElement("div",{className:"logo-wrp"},l.a.createElement("div",{className:"logo-sec",onClick:function(){t({category:""})}},l.a.createElement("img",{style:{minWidth:35},className:"logo",src:"/images/logo.png"}),l.a.createElement("span",{className:"sub-title",style:{position:"relative",top:1,marginLeft:8}},"Code Medium"))),l.a.createElement("ul",{className:"navbar-main"},l.a.createElement("li",null,l.a.createElement(_.a,{className:"link react",onClick:function(){t({category:"react"})}},"React")),l.a.createElement("li",null,l.a.createElement(_.a,{className:"link javascript",onClick:function(){t({category:"javascript"})}},"Javascript"))))))}))),q=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.testAction().then((function(){console.log("test")}))}},{key:"render",value:function(){return l.a.createElement("div",null)}}]),a}(l.a.Component),W=Object(c.b)(null,{testAction:function(e){return function(e){return new Promise((function(t,a){console.log("test",e),t()}))}}})(q),G=function(e){return l.a.createElement("div",{style:{background:"aliceblue",fontSize:12,padding:"15px 0"},className:"footer"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"header-content",style:{display:"flex"}},l.a.createElement("div",{className:"logo-wrp"},"Copyright Code Medium"),l.a.createElement("div",{className:"logo-wrp",style:{marginLeft:15}},"Contact Us on codemedium@contact.com"))),l.a.createElement(W,null))},V=function(e){return l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},className:"layout"},l.a.createElement("div",null,l.a.createElement(K,null),e.children),l.a.createElement(G,null))},J=function(){return l.a.createElement("div",{className:"banner-adv",style:{background:"aliceblue"}},l.a.createElement("div",{className:"container"},l.a.createElement("a",{style:{display:"inline-block"},target:"_blank",href:"https://www.xm.com/grand-lucky-draw-winners-10-anniversary-promo-131703?target=next_z01452qwo"},l.a.createElement("img",{className:"post-image",src:"https://tpc.googlesyndication.com/daca_images/simgad/1666469299077737993"}))))},X=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={},n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.parse)(this.props.location.search);this.props.getPosts(e)}},{key:"render",value:function(){return l.a.createElement(V,null,l.a.createElement("div",{className:"home"},l.a.createElement(J,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8"},l.a.createElement("ul",{className:"posts post-list"},this.props.loading&&[1,1].map((function(e){return l.a.createElement("li",{className:"post-card"},l.a.createElement("div",{style:{padding:15}},l.a.createElement($,null)))})),!this.props.loading&&this.props.posts&&this.props.posts.map((function(e,t){return l.a.createElement(R,{item:e,key:t})})))),l.a.createElement("div",{className:"side-banner ",xs:0,sm:4},l.a.createElement(I,null))))))}}]),a}(l.a.Component),Y=Object(k.h)(Object(c.b)((function(e){return{posts:Object(P.a)(["page","posts"],e),loading:Object(P.a)(["page","loading"],e)}}))(X)),$=function(){return l.a.createElement(B.a,{viewBox:"0 0 380 70"},l.a.createElement("rect",{x:"228",y:"0",rx:"5",ry:"5",width:"280",height:"150"}),l.a.createElement("rect",{x:"0",y:"5",rx:"4",ry:"4",width:"220",height:"13"}),l.a.createElement("rect",{x:"0",y:"25",rx:"3",ry:"3",width:"220",height:"15"}),l.a.createElement("rect",{x:"170",y:"60",rx:"3",ry:"3",width:"50",height:"8"}))},Q=Object(k.h)(Object(c.b)((function(e){return{page:e.page}}),(function(e){return{getPosts:function(t){return e(F(t))}}}))(Y)),Z=a(65),ee=a(11),te=a(148),ae=a(338),ne=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).getCategories=function(){A()({method:"get",url:D+"/admin/common/categories",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")}}).then((function(e){return n.setState({categories:e.data.categories.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{value:e._id})}))}),e.data})).catch((function(e){return e}))},n.handleChange=function(e,t){n.setState(Object(Z.a)({},t,e.target.value))},n.addPost=function(e){e.preventDefault();var t=n.state.title.replace(/\s/g,"-");n.props.slug&&(t=n.props.slug);var a=new FormData;a.append("title",n.state.title),a.append("image",n.state.image),a.append("content",n.refs.editor.editor.innerHTML),a.append("desc",n.state.desc),a.append("creator","6035c940ab2e02358fac6e6b"),a.append("slug",t),a.append("authorCode",n.state.authorCode),a.append("categories",n.state.selectedCategories.map((function(e){return e.value}))),console.log(a),A()({method:"post",url:D+"/admin/feed/post",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},data:a}).then((function(e){return alert("Post added"),n.props.history.push("/admin/posts/home"),e.data})).catch((function(e){return e}))},n.onFileChange=function(e,t){n.setState({image:t?t[0]:e})},n.state={title:n.props.title,desc:n.props.desc,editorState:ee.EditorState.createEmpty(),authorCode:null,categories:[],selectedCategories:null},n.focus=function(){return n.refs.editor.focus()},n.onChange=function(e){return n.setState({editorState:e})},n.editorRef=l.a.createRef(),n.handleKeyCommand=function(e){return n._handleKeyCommand(e)},n.onTab=function(e){return n._onTab(e)},n.toggleBlockType=function(e){return n._toggleBlockType(e)},n.toggleInlineStyle=function(e){return n._toggleInlineStyle(e)},n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(te.a)(this.props.content),t=ee.EditorState.createWithContent(e);this.setState({editorState:t}),this.getCategories()}},{key:"_handleKeyCommand",value:function(e){var t=this.state.editorState,a=ee.RichUtils.handleKeyCommand(t,e);return!!a&&(this.onChange(a),!0)}},{key:"_onTab",value:function(e){this.onChange(ee.RichUtils.onTab(e,this.state.editorState,4))}},{key:"_toggleBlockType",value:function(e){this.onChange(ee.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(ee.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"render",value:function(){var e=this,t=this.state.editorState,a="RichEditor-editor",n=t.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(a+=" RichEditor-hidePlaceholder"),l.a.createElement("div",{className:"my-editor"},l.a.createElement("div",null,l.a.createElement("p",null,"Write Post")),l.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},l.a.createElement("p",null,"Title"),l.a.createElement("input",{className:"",type:"file",onChange:function(t){return e.onFileChange(t.target.value,t.target.files)}}),l.a.createElement("input",{style:{width:"50%"},value:this.state.title,onChange:function(t){e.handleChange(t,"title")},placeholder:"title..."})),l.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},l.a.createElement("p",null,"Description"),l.a.createElement("textarea",{style:{width:"50%"},value:this.state.desc,onChange:function(t){e.handleChange(t,"desc")}})),l.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},l.a.createElement("p",null,"Select category"),l.a.createElement(ae.a,{isMulti:!0,value:this.state.selectedCategories,onChange:function(t){e.setState({selectedCategories:t})},options:this.state.categories})),l.a.createElement("div",{className:"edittor-wrp RichEditor-root"},l.a.createElement(ie,{editorState:t,onToggle:this.toggleBlockType}),l.a.createElement(ue,{editorState:t,onToggle:this.toggleInlineStyle}),l.a.createElement("div",{className:a,onClick:this.focus},l.a.createElement(ee.Editor,{blockStyleFn:oe,customStyleMap:le,editorState:t,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,onTab:this.onTab,ref:"editor",spellCheck:!0}))),l.a.createElement("div",{className:"bttn-wrap"},l.a.createElement("form",{className:"author-id-form",onSubmit:this.addPost},l.a.createElement("div",{class:"grp"},l.a.createElement("label",null,"Auth code"),l.a.createElement("input",{type:"text",value:this.state.authorCode,onChange:function(t){e.setState({authorCode:t.target.value})}})),!this.props.editPost&&l.a.createElement(_.a,{type:"submit"},"Publish"),this.props.editPost&&l.a.createElement(_.a,{type:"submit"}," Update "))))}}]),a}(l.a.Component),le={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function oe(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var re=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(O.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(S.a)(a,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),l.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),a}(l.a.Component),ce=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}],ie=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return l.a.createElement("div",{className:"RichEditor-controls"},ce.map((function(t){return l.a.createElement(re,{key:t.label,active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style})})))},se=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],ue=function(e){var t=e.editorState.getCurrentInlineStyle();return l.a.createElement("div",{className:"RichEditor-controls"},se.map((function(a){return l.a.createElement(re,{key:a.label,active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style})})))},me=Object(k.h)(ne),de=a(336),pe=a(210),he=a.n(pe);n.Component;var ge=Object(c.b)(null,(function(e){return{addPost:function(t){return e((function(e,t,a){a.getFirebase,a.getFirestore}))}}}))((function(e){return l.a.createElement("div",{className:"add-post",style:{padding:"50px 0"}},l.a.createElement("div",{className:"container"},l.a.createElement(me,{addPost:e.addPost,content:"",title:"",desc:"",query:!1,slug:!1})))})),Ee=Object(k.h)(Object(c.b)((function(e){return{page:e.page}}),(function(e){return{addPost:function(t){return e((function(e,t,a){a.getFirebase,a.getFirestore}))}}}))(ge)),fe=a(704),ve=a(687),ye=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"author-wrap clearfix"},l.a.createElement("div",{id:"authorBox"},l.a.createElement("div",null,l.a.createElement("h4",null,"Mustkeem K"),l.a.createElement("p",null,"Software Engineer"))))}}]),a}(l.a.Component),be=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).onEditClick=function(){n.setState({editPost:!n.state.editPost})},n.state={editPost:!1},n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getPost(this.props.match.params);var t=setInterval((function(){window.post&&(clearInterval(t),e.setState({post:window.post}))}),1e3);window.scroll(0,0)}},{key:"render",value:function(){var e=Object(P.a)([0],window.post);return e?l.a.createElement(V,null,l.a.createElement("div",{className:"post-page"},l.a.createElement(fe.a,null,l.a.createElement(J,null),l.a.createElement(ve.a,{container:!0,spacing:3},l.a.createElement(ve.a,{item:!0,xs:12,sm:8},l.a.createElement("div",{className:"bttn-wrap"},l.a.createElement("button",{onClick:this.onEditClick},!this.state.editPost&&"Edit Post",this.state.editPost&&"View Post")),!this.state.editPost&&l.a.createElement("div",{className:"post-wrap"},l.a.createElement("div",{className:"post RichEditor-editor"},l.a.createElement("h1",{className:"title"},l.a.createElement("strong",null,e.title)),l.a.createElement("div",{className:"post-content",dangerouslySetInnerHTML:{__html:e.content}})),l.a.createElement(ye,null)),this.state.editPost&&l.a.createElement("div",null,l.a.createElement(me,{content:e.content,title:e.title,desc:e.desc,updatePost:this.props.updatePost,query:this.props.match.params,slug:e.slug,id:e.id,editPost:!0}))),l.a.createElement(ve.a,{className:"side-banner",item:!0,xs:0,sm:4},l.a.createElement(I,null))))),"\\"):null}}]),a}(l.a.Component),Ce=Object(k.h)(be),Ne=(Object(k.h)(Object(c.b)((function(e){return{page:e.page}}),(function(e){return{getPost:function(t){return e(L(t))},updatePost:function(t){return e(z(t))}}}))(Ce)),a(688)),je=a(689),ke=a(690),Oe=a(691),Se=a(692),we=a(693),Te=a(694),Pe=a(695),xe=a(696),Be=a(697),Ie=a(698),De=a(699),Re=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={post:null},n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this;A()({method:"get",url:D+"/feed/post/"+this.props.match.params.slug,headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")}}).then((function(t){return e.setState({post:t.data.post}),t.data})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this.state.post;return l.a.createElement(V,null,l.a.createElement("div",{className:"post-page"},l.a.createElement(J,null),l.a.createElement("div",{className:"container"},this.state.post&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-9"},l.a.createElement("div",{className:"post-wrap"},l.a.createElement("div",{className:"post RichEditor-editor"},l.a.createElement("h1",{className:"title"},l.a.createElement("strong",null,e.title)),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20}},l.a.createElement("div",{className:"share-icon-container"},l.a.createElement(Ne.a,null,l.a.createElement(je.a,{size:32,round:!0})),l.a.createElement(ke.a,null,l.a.createElement(Oe.a,{size:32,round:!0})),l.a.createElement(Se.a,{url:"test"},l.a.createElement(we.a,{size:32,round:!0})),l.a.createElement(Te.a,null,l.a.createElement(Pe.a,{size:32,round:!0})),l.a.createElement(xe.a,null,l.a.createElement(Be.a,{size:32,round:!0})),l.a.createElement(Ie.a,null,l.a.createElement(De.a,{size:32,round:!0})))),l.a.createElement("div",{className:"detail-image"},l.a.createElement("img",{src:D+"/"+e.imageUrl})),l.a.createElement("div",{className:"post-content",dangerouslySetInnerHTML:{__html:e.content}})))),l.a.createElement("div",{className:"side-banner col-md-3"},l.a.createElement(I,null))))))}}]),a}(l.a.Component),_e=Object(k.h)(Re),Me=Object(k.h)(Object(c.b)((function(e){return{page:e.page}}),(function(e){return{getPost:function(t){return e(L(t))},updatePost:function(t){return e(z(t))}}}))(_e));a(668);var Ae=function(e){var t=e.item;return l.a.createElement("li",{className:"post-card"},l.a.createElement(j.b,{className:"link title",to:"/admin/"+t._id},l.a.createElement("div",{className:"post-content"},l.a.createElement("div",{className:"sec-1"},l.a.createElement("div",null,l.a.createElement("h2",null,t.title),l.a.createElement("div",{className:"desc"},t.desc)),l.a.createElement("div",{className:"category-sec"},t.categories.map((function(e){return l.a.createElement("div",{className:"category"}," ",e.label," ")})))),l.a.createElement("div",{className:"sec-2"},l.a.createElement("div",{className:"figure-content"},l.a.createElement("img",{src:D+"/"+t.imageUrl}))))))},Fe=function(e){var t=Object(c.c)((function(e){return e.profileReducer.user})),a=Object(k.f)();return l.a.createElement("div",{style:{marginBottom:50},className:"header top"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",{className:"header-content",style:{display:"flex"}},l.a.createElement("div",{className:"logo-wrp"},l.a.createElement(j.b,{to:"/admin/posts/home"},l.a.createElement("img",{style:{minWidth:35},className:"logo",src:"/images/logo.png"}),l.a.createElement("span",{style:{position:"relative",top:1,marginLeft:8}},"Code Medium"))),l.a.createElement("ul",{className:"navbar-main"},l.a.createElement("li",null,l.a.createElement(j.b,{style:{color:"black",background:"white"},className:"",to:"/admin/add/post"},"Add Post")),l.a.createElement("li",null,l.a.createElement(j.b,{style:{color:"black",background:"white"},className:"",to:"/admin/add/post2"},"Add Post 2")))),l.a.createElement("div",{style:{padding:"18px",justifyContent:"center",display:"flex",alignItems:"center",color:"#fff"}},l.a.createElement("div",null,t&&t.name),l.a.createElement(_.a,{variant:"light",size:"sm",style:{marginLeft:30},onClick:function(){localStorage.removeItem("codemedium-token-admin"),a.push("/admin")}},"Logout")))))},Le=function(e){return l.a.createElement("div",{style:{background:"aliceblue",fontSize:12,padding:"15px 0",marginTop:50},className:"footer"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"header-content",style:{display:"flex"}},l.a.createElement("div",{className:"logo-wrp"},"Copyright Code Medium"),l.a.createElement("div",{className:"logo-wrp",style:{marginLeft:15}},"Contact Us on codemedium@contact.com"))))},Ue=function(e){return l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},className:"layout"},l.a.createElement("div",null,l.a.createElement(Fe,null),e.children),l.a.createElement(Le,null))},ze=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={posts:[]},n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this;A()({method:"get",url:D+"/admin/feed/posts",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},params:{user:"6035c940ab2e02358fac6e6b"}}).then((function(t){return e.setState({posts:t.data.posts}),t.data})).catch((function(e){return e}))}},{key:"render",value:function(){return l.a.createElement(Ue,null,l.a.createElement("div",{className:"home"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{style:{marginBottom:30}},"Posts"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("ul",{className:"posts post-list"},this.state.posts&&this.state.posts.map((function(e,t){return l.a.createElement(Ae,{item:e,key:t})})))),l.a.createElement("div",{className:"side-banner",xs:0,sm:4})))))}}]),a}(l.a.Component),He=Object(c.b)((function(e){return{posts:Object(P.a)(["page","posts"],e)}}),(function(e){return{getAdminPosts:function(t){return e((function(e,t,a){a.getFirebase,a.getFirestore,A()({method:"get",url:D+"/admin/feed/post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},params:{user:"test"}}).then((function(e){return e.data})).catch((function(e){return e}))}))}}}))(ze),Ke=a(149),qe=a(701);a(669);var We=Object(c.b)(null,(function(e){return{login:function(t){return e(function(e){return function(t,a,n){n.getFirebase,n.getFirestore;return A()({method:"post",url:D+"/admin/auth/login",data:e}).then((function(e){return localStorage.setItem("codemedium-token-admin",e.data.token),t(H(e.data.user)),e.data})).catch((function(e){console.log(e)}))}}(t))}}}))((function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(Ke.a)(t,2),o=a[0],r=a[1],c=Object(k.f)(),i=function(e,t){var a=Object(d.a)({},o);a[e]=t.target.value,r(a)};return l.a.createElement("div",{className:"login-page"},l.a.createElement("div",{className:"login-content"},l.a.createElement("div",{class:"log-form medium-size"},l.a.createElement("div",{className:"inner-wrp"},l.a.createElement("h2",null,"Admin"),l.a.createElement(qe.a,{onSubmit:function(t){t.preventDefault(),e.login(o).then((function(e){c.push("/admin/posts/home")})).catch((function(e){}))}},l.a.createElement(qe.a.Group,{controlId:"formBasicEmail"},l.a.createElement(qe.a.Label,null,"Email"),l.a.createElement(qe.a.Control,{type:"text",placeholder:"Enter email",onChange:function(e){i("email",e)},value:o.email})),l.a.createElement(qe.a.Group,{controlId:"formBasicPassword"},l.a.createElement(qe.a.Label,null,"Password"),l.a.createElement(qe.a.Control,{type:"text",placeholder:"Password",onChange:function(e){i("password",e)},value:o.password})),l.a.createElement("div",{className:"button-grp"},l.a.createElement(_.a,{variant:"primary",type:"submit"},"Submit")))))))})),Ge=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){n.setState(Object(Z.a)({},t,e.target.value))},n.updatePost=function(e){e.preventDefault();var t=n.state.title.replace(/\s/g,"-");n.props.slug&&(t=n.props.slug);var a={title:n.state.title,desc:n.state.desc,content:n.refs.editor.editor.innerHTML,slug:t,authorCode:n.state.authorCode};n.props.updatePost(a)},n.state={title:n.props.title,desc:n.props.desc,editorState:ee.EditorState.createEmpty(),authorCode:null},n.focus=function(){return n.refs.editor.focus()},n.onChange=function(e){return n.setState({editorState:e})},n.editorRef=l.a.createRef(),n.handleKeyCommand=function(e){return n._handleKeyCommand(e)},n.onTab=function(e){return n._onTab(e)},n.toggleBlockType=function(e){return n._toggleBlockType(e)},n.toggleInlineStyle=function(e){return n._toggleInlineStyle(e)},n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(te.a)(this.props.content),t=ee.EditorState.createWithContent(e);this.setState({editorState:t})}},{key:"_handleKeyCommand",value:function(e){var t=this.state.editorState,a=ee.RichUtils.handleKeyCommand(t,e);return!!a&&(this.onChange(a),!0)}},{key:"_onTab",value:function(e){this.onChange(ee.RichUtils.onTab(e,this.state.editorState,4))}},{key:"_toggleBlockType",value:function(e){this.onChange(ee.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(ee.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"render",value:function(){var e=this,t=this.state.editorState,a="RichEditor-editor",n=t.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(a+=" RichEditor-hidePlaceholder"),l.a.createElement("div",{className:"my-editor"},l.a.createElement("div",null,l.a.createElement("p",null,"Write Post")),l.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},l.a.createElement("p",null,"Title"),l.a.createElement("input",{style:{width:"50%"},value:this.state.title,onChange:function(t){e.handleChange(t,"title")},placeholder:"title..."})),"dsdf",l.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},l.a.createElement("p",null,"Description"),l.a.createElement("textarea",{style:{width:"50%"},value:this.state.desc,onChange:function(t){e.handleChange(t,"desc")}})),l.a.createElement("div",{className:"edittor-wrp RichEditor-root"},l.a.createElement($e,{editorState:t,onToggle:this.toggleBlockType}),l.a.createElement(Ze,{editorState:t,onToggle:this.toggleInlineStyle}),l.a.createElement("div",{className:a,onClick:this.focus},l.a.createElement(ee.Editor,{blockStyleFn:Je,customStyleMap:Ve,editorState:t,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,onTab:this.onTab,ref:"editor",spellCheck:!0}))),l.a.createElement("div",{className:"bttn-wrap"},l.a.createElement("form",{className:"author-id-form",onSubmit:this.updatePost},l.a.createElement("div",{class:"grp"},l.a.createElement("label",null,"Author Id "),l.a.createElement("input",{type:"password",value:this.state.authorCode,onChange:function(t){e.setState({authorCode:t.target.value})}})),this.props.editPost&&l.a.createElement(_.a,{type:"submit"}," Update "))))}}]),a}(l.a.Component),Ve={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function Je(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var Xe=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(){var e;return Object(O.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(S.a)(a,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),l.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),a}(l.a.Component),Ye=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}],$e=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return l.a.createElement("div",{className:"RichEditor-controls"},Ye.map((function(t){return l.a.createElement(Xe,{key:t.label,active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style})})))},Qe=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],Ze=function(e){var t=e.editorState.getCurrentInlineStyle();return l.a.createElement("div",{className:"RichEditor-controls"},Qe.map((function(a){return l.a.createElement(Xe,{key:a.label,active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style})})))},et=Ge,tt=a(700),at=function(e){Object(w.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).updatePost=function(e){A()({method:"put",url:D+"/admin/feed/post/"+n.props.match.params.postId,headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},data:e}).then((function(e){return n.setState({post:e.data.post}),alert("Updated"),n.props.history.push("/admin/posts/home"),e.data})).catch((function(e){return alert("Error"),e}))},n.deletePost=function(){A()({method:"delete",url:D+"/admin/feed/post/"+n.props.match.params.postId,headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},data:{authorCode:n.state.authorCode}}).then((function(e){return n.setState({showDeleteModel:!n.state.showDeleteModel}),alert("Deleted"),n.props.history.push("/admin/posts/home"),e.data})).catch((function(e){return alert("Error"),e}))},n.onEditClick=function(){n.setState({editPost:!n.state.editPost})},n.state={editPost:!1,post:null,authorCode:null,showDeleteModel:!1},n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this;A()({method:"get",url:D+"/admin/feed/post/"+this.props.match.params.postId,headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")}}).then((function(t){return e.setState({post:t.data.post}),t.data})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this,t=this.state.post;return t?l.a.createElement(Ue,null,l.a.createElement("div",{className:"post-page"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("div",{className:"bttn-wrap"},l.a.createElement(_.a,{onClick:this.onEditClick},!this.state.editPost&&"Edit Post",this.state.editPost&&"View Post"),l.a.createElement(_.a,{style:{marginLeft:10},variant:"danger",onClick:function(){e.setState({showDeleteModel:!e.state.showDeleteModel})}},"Delete Post")),!this.state.editPost&&l.a.createElement("div",{className:"post-wrap"},l.a.createElement("div",{className:"post RichEditor-editor"},l.a.createElement("h1",{className:"title"},l.a.createElement("strong",null,t.title)),l.a.createElement("div",{className:"detail-image"},l.a.createElement("img",{src:D+"/"+t.imageUrl})),l.a.createElement("div",{className:"post-content",dangerouslySetInnerHTML:{__html:t.content}}))),this.state.editPost&&l.a.createElement("div",null,l.a.createElement(et,{content:t.content,title:t.title,desc:t.desc,updatePost:this.updatePost,query:this.props.match.params,slug:t.slug,id:t.id,editPost:!0})))))),l.a.createElement(tt.a,{show:this.state.showDeleteModel,onHide:function(){e.setState({handleClose:!e.state.handleClose})}},l.a.createElement(tt.a.Header,{closeButton:!0},l.a.createElement(tt.a.Title,null,"Do you want to delete this post?")),l.a.createElement(tt.a.Body,null,l.a.createElement("p",null,t.title),l.a.createElement("div",{class:"grp"},l.a.createElement("p",null,"Auth code"),l.a.createElement("input",{type:"text",value:this.state.authorCode,onChange:function(t){e.setState({authorCode:t.target.value})}}))),l.a.createElement(tt.a.Footer,null,l.a.createElement(_.a,{variant:"danger",onClick:this.deletePost},"Delete")))):null}}]),a}(l.a.Component),nt=Object(k.h)(at);var lt=function(){return l.a.createElement("div",null,"test")};var ot=Object(c.b)(null,(function(e){return{loginAction:function(t){return e(H(t))}}}))((function(e){var t=Object(k.g)(),a=t.path,n=(t.url,Object(k.f)()),o=l.a.useState(!0),r=Object(Ke.a)(o,2),c=(r[0],r[1]);return l.a.useEffect((function(){return A()({method:"get",url:D+"/admin/auth/status",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")}}).then((function(t){return c(!0),e.loginAction(t.data.user),t.data})).catch((function(e){c(!1),n.push("/admin"),console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement(k.c,null,l.a.createElement(k.a,{exact:!0,path:a},l.a.createElement(We,null))),l.a.createElement(k.c,null,l.a.createElement(k.a,{exact:!0,path:"".concat(a,"/add/post2"),component:lt}),l.a.createElement(k.a,{exact:!0,path:"".concat(a,"/posts/home")},l.a.createElement(He,null)),l.a.createElement(k.a,{exact:!0,path:"".concat(a,"/add/post")},l.a.createElement(Ee,null)),l.a.createElement(k.a,{exact:!0,path:"".concat(a,"/:postId")},l.a.createElement(nt,null))))}));var rt=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(c.a,{store:N},l.a.createElement(j.a,null,l.a.createElement(k.c,null,l.a.createElement(k.a,{path:"/admin",component:ot}),l.a.createElement(k.a,{exact:!0,path:"/:slug",component:Me}),l.a.createElement(k.a,{exact:!0,path:"/",component:Q})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(rt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[342,1,2]]]);
//# sourceMappingURL=main.2eab26b3.chunk.js.map