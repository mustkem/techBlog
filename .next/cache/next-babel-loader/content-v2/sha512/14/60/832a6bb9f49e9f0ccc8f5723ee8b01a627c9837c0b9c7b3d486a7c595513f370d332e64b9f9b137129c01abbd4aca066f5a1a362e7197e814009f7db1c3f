{"ast":null,"code":"import { actionTypes } from \"../ActionsTypes/actionTypes\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../config\";\nexport var addPost = function addPost(payload) {\n  return function (dispatch) {// axios({\n    //   method: \"post\",\n    //   url: API_URL + \"/admin/feed/post\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     Authorization: \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\"),\n    //   },\n    //   data:payload\n    // })\n    //   .then(function (response) {\n    //       return response.data;\n    //   })\n    //   .catch(function (error) {\n    //     return error;\n    //   });\n  };\n};\nexport var getAdminPosts = function getAdminPosts(payload) {\n  return function (dispatch, getState) {\n    axios({\n      method: \"get\",\n      url: API_URL + \"/admin/feed/post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\")\n      },\n      params: {\n        user: \"test\"\n      }\n    }).then(function (response) {\n      return response.data;\n    })[\"catch\"](function (error) {\n      return error;\n    });\n  };\n};\nexport var testActionCreator = function testActionCreator(payload) {};\nexport var getPosts2 = function getPosts2(payload) {\n  return function (dispatch) {\n    return axios({\n      method: \"get\",\n      url: API_URL + \"/feed/posts\",\n      params: payload\n    }).then(function (response) {\n      dispatch(onGetPosts({\n        loading: false,\n        posts: response.data.posts\n      }));\n      return response.data;\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var getPost2 = function getPost2(slug) {\n  return function (dispatch) {\n    return axios({\n      method: \"get\",\n      url: API_URL + \"/feed/post/\" + slug\n    }).then(function (response) {\n      dispatch(onGetPost(response.data.post));\n      return response.data;\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n};\nexport function onGetPosts(payload) {\n  return {\n    type: actionTypes.GET_POSTS,\n    payload: payload\n  };\n}\nexport function onGetPost(payload) {\n  return {\n    type: actionTypes.GET_POST,\n    payload: payload\n  };\n}\nexport var login = function login(payload, history) {\n  return function (dispatch) {\n    return axios({\n      method: \"post\",\n      url: API_URL + \"/admin/auth/login\",\n      data: payload\n    }).then(function (response) {\n      localStorage.setItem(\"codemedium-token-admin\", response.data.token);\n      dispatch(loginAction(response.data.user));\n      history.push(\"/admin/posts/home\");\n      return response.data;\n    })[\"catch\"](function (error) {\n      console.log(error);\n      alert(\"Wrong credentials\");\n    });\n  };\n};\nexport function loginAction(payload) {\n  return {\n    type: actionTypes.LOGIN_SUCCESS,\n    payload: payload\n  };\n}","map":{"version":3,"sources":["/home/mustkeem/Documents/personal/development/techBlog/Store/Actions/actions.js"],"names":["actionTypes","axios","API_URL","addPost","payload","dispatch","getAdminPosts","getState","method","url","headers","Authorization","localStorage","getItem","params","user","then","response","data","error","testActionCreator","getPosts2","onGetPosts","loading","posts","console","log","getPost2","slug","onGetPost","post","type","GET_POSTS","GET_POST","login","history","setItem","token","loginAction","push","alert","LOGIN_SUCCESS"],"mappings":"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","sourcesContent":["import { actionTypes } from \"../ActionsTypes/actionTypes\";\r\nimport axios from \"axios\";\r\nimport { API_URL } from \"../../config\";\r\n\r\nexport const addPost = (payload) => {\r\n  return (dispatch) => {\r\n    // axios({\r\n    //   method: \"post\",\r\n    //   url: API_URL + \"/admin/feed/post\",\r\n    //   headers: {\r\n    //     \"Content-Type\": \"application/json\",\r\n    //     Authorization: \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\"),\r\n    //   },\r\n    //   data:payload\r\n    // })\r\n    //   .then(function (response) {\r\n    //       return response.data;\r\n    //   })\r\n    //   .catch(function (error) {\r\n    //     return error;\r\n    //   });\r\n  };\r\n};\r\n\r\nexport const getAdminPosts = (payload) => {\r\n  return (dispatch, getState) => {\r\n    axios({\r\n      method: \"get\",\r\n      url: API_URL + \"/admin/feed/post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization:\r\n          \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\"),\r\n      },\r\n      params: {\r\n        user: \"test\",\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        return response.data;\r\n      })\r\n      .catch(function (error) {\r\n        return error;\r\n      });\r\n  };\r\n};\r\n\r\n\r\nexport const testActionCreator = (payload) => {};\r\n\r\n\r\n\r\nexport const getPosts2 = (payload) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"get\",\r\n      url: API_URL + \"/feed/posts\",\r\n      params: payload,\r\n    })\r\n      .then(function (response) {\r\n        dispatch(onGetPosts({ loading: false, posts: response.data.posts }));\r\n        return response.data;\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\n\r\nexport const getPost2 = (slug) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"get\",\r\n      url: API_URL + \"/feed/post/\"+slug,\r\n    })\r\n      .then(function (response) {\r\n        dispatch(onGetPost(response.data.post));\r\n        return response.data;\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\nexport function onGetPosts(payload) {\r\n  return {\r\n    type: actionTypes.GET_POSTS,\r\n    payload: payload,\r\n  };\r\n}\r\n\r\nexport function onGetPost(payload) {\r\n  return {\r\n    type: actionTypes.GET_POST,\r\n    payload: payload,\r\n  };\r\n}\r\n\r\n\r\n\r\nexport const login = (payload, history) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"post\",\r\n      url: API_URL + \"/admin/auth/login\",\r\n      data: payload,\r\n    })\r\n      .then(function (response) {\r\n        localStorage.setItem(\"codemedium-token-admin\", response.data.token);\r\n        dispatch(loginAction(response.data.user));\r\n        history.push(\"/admin/posts/home\");\r\n        return response.data;\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n        alert(\"Wrong credentials\");\r\n      });\r\n  };\r\n};\r\n\r\nexport function loginAction(payload) {\r\n  return {\r\n    type: actionTypes.LOGIN_SUCCESS,\r\n    payload,\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}