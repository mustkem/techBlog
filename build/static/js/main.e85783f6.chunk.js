(window.webpackJsonpmarioplan=window.webpackJsonpmarioplan||[]).push([[0],{263:function(e,t,a){e.exports=a(506)},268:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){},468:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},506:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),o=a.n(l),c=(a(268),a(269),a(270),a(271),a(272),a(13)),i=a(46),s=a(255),m=a(80),u=a(162),d=a(17),p="ADD_POST",h="GET_POSTS",g="LOGIN_SUCCESS",E={};var f={};var v=Object(i.c)({page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),t);case h:return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},firestore:m.firestoreReducer,profileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(d.a)(Object(d.a)({},e),{},{user:t.payload});default:return e}}}),b=a(112);a(507),a(453);b.a.initializeApp({apiKey:"AIzaSyB4g1fFy8mVY9fs5c7dW0ti7t53zP2Y2rs",authDomain:"my-project-1525784461261.firebaseapp.com",databaseURL:"https://my-project-1525784461261.firebaseio.com",projectId:"my-project-1525784461261",storageBucket:"",messagingSenderId:"234456308154",appId:"1:234456308154:web:21336fccce9f972d"}),b.a.firestore().settings({});var y=b.a,w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,N=Object(i.e)(v,w(Object(i.a)(s.a.withExtraArgument({getFirebase:u.getFirebase,getFirestore:m.getFirestore})),Object(m.reduxFirestore)(y),Object(u.reactReduxFirebase)(y))),j=a(22),C=a(10),O=a(33),k=a(34),S=a(36),x=a(35),P=a(522),A=a(81),I=a(109),D=a(107),T=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"},className:"advertisement"}),r.a.createElement("div",{className:"advertisement"},r.a.createElement("a",{style:{display:"inline-block"},target:"_blank",href:"https://www.gravityforms.com/?promo=80256"},r.a.createElement("img",{src:"/images/right-banner4.png"}))))},B="https://codemedium-backend.herokuapp.com";a(468);var _=function(e){var t=e.item;return r.a.createElement("li",{className:"post-card"},r.a.createElement(j.b,{className:"link title",to:"/"+t.slug},r.a.createElement("div",{className:"post-content"},r.a.createElement("div",{className:"sec-1"},r.a.createElement("div",null,r.a.createElement("h2",null,t.title),r.a.createElement("div",{className:"desc"},t.desc)),r.a.createElement("div",{className:"category-sec"},t.categories&&t.categories.map((function(e){return r.a.createElement("div",{className:"category"}," ",e.label," ")})))),r.a.createElement("div",{className:"sec-2"},r.a.createElement("div",{className:"figure-content"},r.a.createElement("img",{src:"data:image/png;base64,"+t.bolbImageUrl}))))))},M=a(523),F=a(16),z=a.n(F),L=function(e){return function(t,a,n){n.getFirebase,n.getFirestore;return t(R({loading:!0})),z()({method:"get",url:B+"/feed/posts",params:e}).then((function(e){return t(R({loading:!1,posts:e.data.posts})),e.data})).catch((function(e){console.log(e)}))}};function R(e){return{type:h,payload:e}}function U(e){return{type:g,payload:e}}var W=Object(C.h)(Object(c.b)(null,(function(e){return{getPosts:function(t){return e(L(t))}}}))((function(e){console.log("test");var t=function(t){var a=Object(A.parse)(e.location.search);a.category=t.category;var n={};Object.keys(a).forEach((function(e){a[e]&&(n[e]=a[e])})),e.history.push("/?"+Object(A.stringify)(n)),e.getPosts(a)};return r.a.createElement("div",{className:"header top"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header-content",style:{display:"flex"}},r.a.createElement("div",{className:"logo-wrp"},r.a.createElement("div",{className:"logo-sec",onClick:function(){t({category:""})}},r.a.createElement("img",{style:{minWidth:35},className:"logo",src:"/images/logo.png"}),r.a.createElement("span",{className:"sub-title",style:{position:"relative",top:1,marginLeft:8}},"Tutorial Medium"))),r.a.createElement("ul",{className:"navbar-main"},r.a.createElement("li",null,r.a.createElement(M.a,{className:"link react",onClick:function(){t({category:"react"})}},"React")),r.a.createElement("li",null,r.a.createElement(M.a,{className:"link javascript",onClick:function(){t({category:"javascript"})}},"Javascript"))))))}))),J=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.testAction().then((function(){console.log("test")}))}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(r.a.Component),H=Object(c.b)(null,{testAction:function(e){return function(e){return new Promise((function(t,a){console.log("test",e),t()}))}}})(J),q=function(e){return r.a.createElement("div",{style:{background:"aliceblue",fontSize:12,padding:"15px 0"},className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header-content",style:{display:"flex"}},r.a.createElement("div",{className:"logo-wrp"},"Copyright @ Tutorial Medium"),r.a.createElement("div",{className:"logo-wrp",style:{marginLeft:15}},"Contact us on contact@tutorialmedium.com"))),r.a.createElement(H,null))},G=function(e){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},className:"layout"},r.a.createElement("div",null,r.a.createElement(W,null),e.children),r.a.createElement(q,null))},V=function(){return r.a.createElement("div",{className:"banner-adv",style:{background:"aliceblue"}},r.a.createElement("div",{className:"container"},r.a.createElement("a",{style:{display:"inline-block"},target:"_blank",href:"https://www.xm.com/grand-lucky-draw-winners-10-anniversary-promo-131703?target=next_z01452qwo"},r.a.createElement("img",{className:"post-image",src:"https://tpc.googlesyndication.com/daca_images/simgad/1666469299077737993"}))))},X=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=Object(A.parse)(this.props.location.search);this.props.getPosts(e)}},{key:"render",value:function(){return r.a.createElement(G,null,r.a.createElement(D.a,null,r.a.createElement("meta",{name:"Description",content:"Learn Javascript, React, Best Practice Javascript, Best Practice React"})),r.a.createElement("div",{className:"home"},r.a.createElement(V,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement("ul",{className:"posts post-list"},this.props.loading&&[1,1].map((function(e){return r.a.createElement("li",{className:"post-card"},r.a.createElement("div",{style:{padding:15}},r.a.createElement(K,null)))})),!this.props.loading&&this.props.posts&&this.props.posts.map((function(e,t){return r.a.createElement(_,{item:e,key:t})})))),r.a.createElement("div",{className:"side-banner ",xs:0,sm:4},r.a.createElement(T,null))))))}}]),a}(r.a.Component),Y=Object(C.h)(Object(c.b)((function(e){return{posts:Object(P.a)(["page","posts"],e),loading:Object(P.a)(["page","loading"],e)}}))(X)),K=function(){return r.a.createElement(I.a,{viewBox:"0 0 380 70"},r.a.createElement("rect",{x:"228",y:"0",rx:"5",ry:"5",width:"280",height:"150"}),r.a.createElement("rect",{x:"0",y:"5",rx:"4",ry:"4",width:"220",height:"13"}),r.a.createElement("rect",{x:"0",y:"25",rx:"3",ry:"3",width:"220",height:"15"}),r.a.createElement("rect",{x:"170",y:"60",rx:"3",ry:"3",width:"50",height:"8"}))},$=Object(C.h)(Object(c.b)((function(e){return{page:e.page}}),(function(e){return{getPosts:function(t){return e(L(t))}}}))(Y)),Q=a(47),Z=a.n(Q),ee=a(510),te=a(511),ae=a(512),ne=a(513),re=a(514),le=a(515),oe=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={post:null,loading:!1},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),z()({method:"get",url:B+"/feed/post/"+this.props.match.params.slug,headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")}}).then((function(t){return e.setState({post:t.data.post,loading:!1},(function(){setTimeout((function(){return Z.a.highlightAll()}),0),setTimeout((function(){return Z.a.highlightAll()}),50),setTimeout((function(){return Z.a.highlightAll()}),150)})),t.data})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this.state.post;return console.log("test11",this.state.loading),r.a.createElement(G,null,r.a.createElement("div",{className:"post-page"},r.a.createElement(V,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"post-wrap"},this.state.loading&&r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(ie,null)),this.state.post&&r.a.createElement("div",{className:"post RichEditor-editor"},r.a.createElement(D.a,null,r.a.createElement("title",null,e.title),r.a.createElement("meta",{name:"Description",content:e.desc})),r.a.createElement("h1",{className:"title"},r.a.createElement("strong",null,e.title)),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:20}},r.a.createElement("div",{className:"share-icon-container"},r.a.createElement(ee.a,{url:window.location.href,quote:e.title,hashtag:"#camperstribe"},r.a.createElement(te.a,{size:36,round:!0})),r.a.createElement(ae.a,{url:window.location.href,title:e.title,hashtag:"#camperstribe"},r.a.createElement(ne.a,{size:36,round:!0})),r.a.createElement(re.a,{url:window.location.href,title:e.title,separator:":: "},r.a.createElement(le.a,{size:36,round:!0})))),r.a.createElement("div",{className:"post-content",dangerouslySetInnerHTML:{__html:e.content}})))),r.a.createElement("div",{className:"side-banner col-md-3"},r.a.createElement(T,null))))))}}]),a}(r.a.Component),ce=Object(C.h)(oe),ie=function(){return r.a.createElement(I.a,{viewBox:"0 0 380 70"},r.a.createElement("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"100%",height:"13"}),r.a.createElement("rect",{x:"0",y:"30",rx:"5",ry:"5",width:"100%",height:"200"}))},se=Object(C.h)(Object(c.b)((function(e){return{page:e.page}}),(function(e){return{getPost:function(t){return e(function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("posts").where("slug","==",e.slug).get().then((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),window.post=t}))}}(t))},updatePost:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)().collection("posts");r.where("slug","==",e.query.slug).get().then((function(t){t.forEach((function(t){console.log(t.id," => ",t.data()),r.doc(t.id).update(e.dataToPost)}))}))}}(t))}}}))(ce)),me=a(110);a(486);var ue=function(e){var t=e.item;return r.a.createElement("li",{className:"post-card"},r.a.createElement(j.b,{className:"link title",to:"/admin/"+t._id},r.a.createElement("div",{className:"post-content"},r.a.createElement("div",{className:"sec-1"},r.a.createElement("div",null,r.a.createElement("h2",null,t.title),r.a.createElement("div",{className:"desc"},t.desc)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:11,marginTop:5}},r.a.createElement("div",null,r.a.createElement("div",null,"Written by"),r.a.createElement("div",null,e.user.name)),r.a.createElement("div",{className:"category-sec"},t.categories.map((function(e){return r.a.createElement("div",{className:"category"}," ",e.label," ")}))))),r.a.createElement("div",{className:"sec-2"},r.a.createElement("div",{className:"figure-content"},r.a.createElement("img",{src:"data:image/png;base64,"+t.bolbImageUrl}))))))},de=function(e){var t=Object(c.c)((function(e){return e.profileReducer.user})),a=Object(C.f)();return r.a.createElement("div",{style:{marginBottom:50},className:"header top admin-header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{className:"header-content",style:{display:"flex"}},r.a.createElement("div",{className:"logo-wrp"},r.a.createElement(j.b,{to:"/admin/posts/home"},r.a.createElement("img",{style:{minWidth:35},className:"logo",src:"/images/logo.png"}),r.a.createElement("span",{style:{position:"relative",top:1,marginLeft:8}},"Tutorial Medium"))),r.a.createElement("ul",{className:"navbar-main"},r.a.createElement("li",null,r.a.createElement(j.b,{className:"",to:"/admin/add/post"},"Add Post")))),r.a.createElement("div",{style:{padding:"18px",justifyContent:"center",display:"flex",alignItems:"center",color:"#fff"}},r.a.createElement("div",null,t&&t.name),r.a.createElement(M.a,{variant:"light",size:"sm",style:{marginLeft:30},onClick:function(){localStorage.removeItem("codemedium-token-admin"),a.push("/admin")}},"Logout")))))},pe=function(e){return r.a.createElement("div",{style:{background:"aliceblue",fontSize:12,padding:"15px 0",marginTop:50},className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header-content",style:{display:"flex"}},r.a.createElement("div",{className:"logo-wrp"},"Copyright www.tutorialmedium.com"),r.a.createElement("div",{className:"logo-wrp",style:{marginLeft:15}},"Contact Us on contact@tutorialmedium.com"))))},he=function(e){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},className:"layout"},r.a.createElement("div",null,r.a.createElement(de,null),e.children),r.a.createElement(pe,null))},ge=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={posts:[]},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this;z()({method:"get",url:B+"/admin/feed/posts",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},params:{user:"6035c940ab2e02358fac6e6b"}}).then((function(t){return e.setState({posts:t.data.posts}),t.data})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this;return r.a.createElement(he,null,r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"container"},r.a.createElement("h3",{style:{marginBottom:30}},"Posts"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("ul",{className:"posts post-list"},this.state.posts&&this.state.posts.map((function(t,a){return r.a.createElement(ue,{user:e.props.user,item:t,key:a})})))),r.a.createElement("div",{className:"side-banner",xs:0,sm:4})))))}}]),a}(r.a.Component),Ee=Object(c.b)((function(e){return{posts:Object(P.a)(["page","posts"],e),user:e.profileReducer.user}}),(function(e){return{getAdminPosts:function(t){return e((function(e,t,a){a.getFirebase,a.getFirestore,z()({method:"get",url:B+"/admin/feed/post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},params:{user:"test"}}).then((function(e){return e.data})).catch((function(e){return e}))}))}}}))(ge),fe=a(521);a(487);var ve=Object(c.b)(null,(function(e){return{login:function(t,a){return e(function(e,t){return function(a,n,r){r.getFirebase,r.getFirestore;return z()({method:"post",url:B+"/admin/auth/login",data:e}).then((function(e){return localStorage.setItem("codemedium-token-admin",e.data.token),a(U(e.data.user)),t.push("/admin/posts/home"),e.data})).catch((function(e){console.log(e),alert("Wrong credentials")}))}}(t,a))}}}))((function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(me.a)(t,2),l=a[0],o=a[1],c=Object(C.f)(),i=function(e,t){var a=Object(d.a)({},l);a[e]=t.target.value,o(a)};return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-content"},r.a.createElement("div",{class:"log-form medium-size"},r.a.createElement("div",{className:"inner-wrp"},r.a.createElement("h2",null,"Admin"),r.a.createElement(fe.a,{onSubmit:function(t){t.preventDefault(),e.login(l,c)}},r.a.createElement(fe.a.Group,{controlId:"formBasicEmail"},r.a.createElement(fe.a.Label,null,"Email"),r.a.createElement(fe.a.Control,{type:"text",placeholder:"Enter email",onChange:function(e){i("email",e)},value:l.email})),r.a.createElement(fe.a.Group,{controlId:"formBasicPassword"},r.a.createElement(fe.a.Label,null,"Password"),r.a.createElement(fe.a.Control,{type:"text",placeholder:"Password",onChange:function(e){i("password",e)},value:l.password})),r.a.createElement("div",{className:"button-grp"},r.a.createElement(M.a,{variant:"primary",type:"submit"},"Submit")))))))})),be=a(520),ye=a(106),we=a(260),Ne=a(516),je=a(524),Ce=a(517),Oe=a(518),ke=a(519),Se=a(259);var xe=function(e){var t=e.content,a=e.updateMainState;return r.a.useEffect((function(){setTimeout((function(){return Z.a.highlightAll()}),0)})),r.a.createElement("div",null,r.a.createElement(Ne.a,{onClick:function(){a({isPreview:!1})}},"Close"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}}))},Pe=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).getCategories=function(){z()({method:"get",url:B+"/admin/common/categories",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")}}).then((function(e){return n.setState({categories:e.data.categories.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{value:e._id})}))}),e.data})).catch((function(e){return e}))},n.handleChange=function(e,t){n.setState(Object(ye.a)({},t,e.target.value))},n.handleEditorChange=function(e,t){console.log("Content was updated:",e),n.setState({content:e})},n.addPost=function(e){console.log("content",n.state.content),e.preventDefault();var t=n.state.title.replace(/\s/g,"-");n.props.slug&&(t=n.props.slug);var a=new FormData;a.append("title",n.state.title),a.append("image",n.state.image),a.append("content",n.state.content),a.append("desc",n.state.desc),a.append("creator",n.props.user.userId),a.append("slug",t),a.append("authorCode",n.state.authorCode),a.append("categories",JSON.stringify(n.state.selectedCategories.map((function(e){return e.value})))),console.log(a),z()({method:"post",url:B+"/admin/feed/post",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},data:a}).then((function(e){return alert("Post added"),n.props.history.push("/admin/posts/home"),e.data})).catch((function(e){return e}))},n.handleUpdatePost=function(e){console.log("content",n.state.content),e.preventDefault();var t=n.state.title.replace(/\s/g,"-");n.props.slug&&(t=n.props.slug);var a=new FormData;a.append("title",n.state.title),n.state.image&&a.append("image",n.state.image),a.append("content",n.state.content),a.append("desc",n.state.desc),a.append("creator",n.props.user.userId),a.append("slug",t),a.append("authorCode",n.state.authorCode),a.append("categories",JSON.stringify(n.state.selectedCategories.map((function(e){return e.value})))),console.log(a),z()({method:"put",url:B+"/admin/feed/post/"+n.props.postId,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},data:a}).then((function(e){return alert("Post updated"),n.props.history.push("/admin/posts/home"),e.data})).catch((function(e){return e}))},n.onFileChange=function(e,t){n.setState({image:t?t[0]:e})},n.updateMainState=function(e){n.setState(Object(d.a)(Object(d.a)({},n.state),e))},n.state={content:n.props.content,title:n.props.title,desc:n.props.desc,authorCode:null,categories:[],selectedCategories:n.props.selectedCategories||[],isPreview:!1},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){this.getCategories()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{padding:"25px"}},r.a.createElement("div",{className:"action-wrap"},r.a.createElement(Ne.a,{onClick:function(){e.setState({isPreview:!0})}},"Preview")),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("p",null,"Write Post")),r.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},r.a.createElement("p",null,"Title"),r.a.createElement("input",{style:{width:"50%"},value:this.state.title,onChange:function(t){e.handleChange(t,"title")},placeholder:"title..."})),r.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},r.a.createElement("p",null,"Add Main Image"),r.a.createElement("input",{className:"",type:"file",onChange:function(t){return e.onFileChange(t.target.value,t.target.files)}})),r.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},r.a.createElement("p",null,"Description"),r.a.createElement("textarea",{style:{width:"50%"},value:this.state.desc,onChange:function(t){e.handleChange(t,"desc")}})),r.a.createElement("div",{style:{textAlign:"center",marginBottom:15}},r.a.createElement("p",null,"Select category"),r.a.createElement(Se.a,{isMulti:!0,value:this.state.selectedCategories,onChange:function(t){e.setState({selectedCategories:t})},options:this.state.categories})),r.a.createElement("div",{style:{height:700}},r.a.createElement(we.a,{value:this.state.content,init:{height:700,menubar:!0,plugins:["print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons"],toolbar:"undo redo | formatselect | bold italic backcolor |             alignleft aligncenter alignright alignjustify |             bullist numlist outdent indent | removeformat | help",body_class:"my_class"},onEditorChange:this.handleEditorChange})),r.a.createElement("div",{className:"bttn-wrap"},r.a.createElement("form",{className:"author-id-form",onSubmit:this.addPost},r.a.createElement("div",{class:"grp"},r.a.createElement("label",null,"Auth code"),r.a.createElement("input",{type:"text",value:this.state.authorCode,onChange:function(t){e.setState({authorCode:t.target.value})}})),!this.props.editPost&&r.a.createElement(Ne.a,{type:"submit"},"Publish"),this.props.editPost&&r.a.createElement(Ne.a,{onClick:this.handleUpdatePost,type:"button"}," ","Update"," "))),r.a.createElement(je.a,{dialogClassName:"preview-modal",isOpen:this.state.isPreview,toggle:function(){e.setState({isPreview:!e.state.isPreview})}},r.a.createElement(Ce.a,{toggle:function(){e.setState({isPreview:!e.state.isPreview})}},"Preview"),r.a.createElement(Oe.a,null,r.a.createElement(xe,{updateMainState:this.updateMainState,content:this.state.content})),r.a.createElement(ke.a,null,r.a.createElement(Ne.a,{color:"secondary",onClick:function(){e.setState({isPreview:!1})}},"Cancel"))))}}]),a}(r.a.Component),Ae=Object(c.b)((function(e){return{user:e.profileReducer.user}}))(Pe),Ie=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).deletePost=function(){z()({method:"delete",url:B+"/admin/feed/post/"+n.props.match.params.postId,headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")},data:{authorCode:n.state.authorCode}}).then((function(e){return n.setState({showDeleteModel:!n.state.showDeleteModel}),alert("Deleted"),n.props.history.push("/admin/posts/home"),e.data})).catch((function(e){return alert("Error"),e}))},n.onEditClick=function(){n.setState({editPost:!n.state.editPost})},n.state={editPost:!1,post:null,authorCode:null,showDeleteModel:!1},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this;z()({method:"get",url:B+"/admin/feed/post/"+this.props.match.params.postId,headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")}}).then((function(t){return e.setState({post:t.data.post},(function(){setTimeout((function(){return Z.a.highlightAll()}),0)})),t.data})).catch((function(e){return e}))}},{key:"render",value:function(){var e=this,t=this.state.post;return t?r.a.createElement(he,null,r.a.createElement("div",{className:"post-page"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"bttn-wrap"},r.a.createElement(M.a,{onClick:this.onEditClick},!this.state.editPost&&"Edit Post",this.state.editPost&&"View Post"),r.a.createElement(M.a,{style:{marginLeft:10},variant:"danger",onClick:function(){e.setState({showDeleteModel:!e.state.showDeleteModel})}},"Delete Post")),!this.state.editPost&&r.a.createElement("div",{className:"post-wrap"},r.a.createElement("div",{className:"post RichEditor-editor"},r.a.createElement("h1",{className:"title"},r.a.createElement("strong",null,t.title)),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.content}}))),this.state.editPost&&r.a.createElement("div",{className:"post-wrap"},r.a.createElement(Ae,{editPost:!0,content:t.content,title:t.title,desc:t.desc,selectedCategories:t.categories&&t.categories.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{value:e._id})})),postId:t._id})))))),r.a.createElement(be.a,{show:this.state.showDeleteModel,onHide:function(){e.setState({handleClose:!e.state.handleClose})}},r.a.createElement(be.a.Header,{closeButton:!0},r.a.createElement(be.a.Title,null,"Do you want to delete this post?")),r.a.createElement(be.a.Body,null,r.a.createElement("p",null,t.title),r.a.createElement("div",{class:"grp"},r.a.createElement("p",null,"Auth code"),r.a.createElement("input",{type:"text",value:this.state.authorCode,onChange:function(t){e.setState({authorCode:t.target.value})}}))),r.a.createElement(be.a.Footer,null,r.a.createElement(M.a,{variant:"danger",onClick:this.deletePost},"Delete")))):null}}]),a}(r.a.Component),De=Object(C.h)(Ie);var Te=Object(c.b)(null,(function(e){return{loginAction:function(t){return e(U(t))}}}))((function(e){var t=Object(C.g)(),a=t.path,n=(t.url,Object(C.f)()),l=r.a.useState(!0),o=Object(me.a)(l,2),c=(o[0],o[1]);return r.a.useEffect((function(){return z()({method:"get",url:B+"/admin/auth/status",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("codemedium-token-admin")}}).then((function(t){return c(!0),e.loginAction(t.data.user),t.data})).catch((function(e){c(!1),n.push("/admin"),console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(C.c,null,r.a.createElement(C.a,{exact:!0,path:a},r.a.createElement(ve,null))),r.a.createElement(C.c,null,r.a.createElement(C.a,{exact:!0,path:"".concat(a,"/add/post"),component:Ae}),r.a.createElement(C.a,{exact:!0,path:"".concat(a,"/posts/home")},r.a.createElement(Ee,null)),r.a.createElement(C.a,{exact:!0,path:"".concat(a,"/:postId")},r.a.createElement(De,null))))}));var Be=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{store:N},r.a.createElement(j.a,null,r.a.createElement(C.c,null,r.a.createElement(C.a,{path:"/admin",component:Te}),r.a.createElement(C.a,{exact:!0,path:"/:slug",component:se}),r.a.createElement(C.a,{exact:!0,path:"/",component:$})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[263,1,2]]]);
//# sourceMappingURL=main.e85783f6.chunk.js.map