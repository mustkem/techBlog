{"ast":null,"code":"import { actionTypes } from \"../ActionsTypes/actionTypes\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../config\";\nexport const addPost = payload => {\n  return dispatch => {// axios({\n    //   method: \"post\",\n    //   url: API_URL + \"/admin/feed/post\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     Authorization: \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\"),\n    //   },\n    //   data:payload\n    // })\n    //   .then(function (response) {\n    //       return response.data;\n    //   })\n    //   .catch(function (error) {\n    //     return error;\n    //   });\n  };\n};\nexport const getAdminPosts = payload => {\n  return (dispatch, getState) => {\n    axios({\n      method: \"get\",\n      url: API_URL + \"/admin/feed/post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\")\n      },\n      params: {\n        user: \"test\"\n      }\n    }).then(function (response) {\n      return response.data;\n    }).catch(function (error) {\n      return error;\n    });\n  };\n};\nexport const testActionCreator = payload => {};\nexport const getPosts2 = () => {\n  return dispatch => {\n    dispatch(onGetPosts({\n      loading: true\n    }));\n    return axios({\n      method: \"get\",\n      url: API_URL + \"/feed/posts\"\n    }).then(function (response) {\n      dispatch(onGetPosts({\n        loading: false,\n        posts: response.data.posts\n      }));\n      return response.data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport const getPost2 = slug => {\n  return dispatch => {\n    return axios({\n      method: \"get\",\n      url: API_URL + \"/feed/post/\" + slug\n    }).then(function (response) {\n      dispatch(onGetPost(response.data.posts));\n      return response.data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport function onGetPosts(payload) {\n  return {\n    type: actionTypes.GET_POSTS,\n    payload: payload\n  };\n}\nexport function onGetPost(payload) {\n  return {\n    type: actionTypes.GET_POST,\n    payload: payload\n  };\n}\nexport const login = (payload, history) => {\n  return dispatch => {\n    return axios({\n      method: \"post\",\n      url: API_URL + \"/admin/auth/login\",\n      data: payload\n    }).then(function (response) {\n      localStorage.setItem(\"codemedium-token-admin\", response.data.token);\n      dispatch(loginAction(response.data.user));\n      history.push(\"/admin/posts/home\");\n      return response.data;\n    }).catch(function (error) {\n      console.log(error);\n      alert(\"Wrong credentials\");\n    });\n  };\n};\nexport function loginAction(payload) {\n  return {\n    type: actionTypes.LOGIN_SUCCESS,\n    payload\n  };\n}","map":{"version":3,"sources":["/home/mustkeem/Documents/My Projects/all-projects/codemedium/codemedium-frontend/tutorialmedium/Store/Actions/actions.js"],"names":["actionTypes","axios","API_URL","addPost","payload","dispatch","getAdminPosts","getState","method","url","headers","Authorization","localStorage","getItem","params","user","then","response","data","catch","error","testActionCreator","getPosts2","onGetPosts","loading","posts","console","log","getPost2","slug","onGetPost","type","GET_POSTS","GET_POST","login","history","setItem","token","loginAction","push","alert","LOGIN_SUCCESS"],"mappings":"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","sourcesContent":["import { actionTypes } from \"../ActionsTypes/actionTypes\";\r\nimport axios from \"axios\";\r\nimport { API_URL } from \"../../config\";\r\n\r\nexport const addPost = (payload) => {\r\n  return (dispatch) => {\r\n    // axios({\r\n    //   method: \"post\",\r\n    //   url: API_URL + \"/admin/feed/post\",\r\n    //   headers: {\r\n    //     \"Content-Type\": \"application/json\",\r\n    //     Authorization: \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\"),\r\n    //   },\r\n    //   data:payload\r\n    // })\r\n    //   .then(function (response) {\r\n    //       return response.data;\r\n    //   })\r\n    //   .catch(function (error) {\r\n    //     return error;\r\n    //   });\r\n  };\r\n};\r\n\r\nexport const getAdminPosts = (payload) => {\r\n  return (dispatch, getState) => {\r\n    axios({\r\n      method: \"get\",\r\n      url: API_URL + \"/admin/feed/post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization:\r\n          \"Bearer \" + localStorage.getItem(\"codemedium-token-admin\"),\r\n      },\r\n      params: {\r\n        user: \"test\",\r\n      },\r\n    })\r\n      .then(function (response) {\r\n        return response.data;\r\n      })\r\n      .catch(function (error) {\r\n        return error;\r\n      });\r\n  };\r\n};\r\n\r\n\r\nexport const testActionCreator = (payload) => {};\r\n\r\n\r\n\r\nexport const getPosts2 = () => {\r\n  return (dispatch) => {\r\n    dispatch(onGetPosts({ loading: true }));\r\n    return axios({\r\n      method: \"get\",\r\n      url: API_URL + \"/feed/posts\",\r\n    })\r\n      .then(function (response) {\r\n        dispatch(onGetPosts({ loading: false, posts: response.data.posts }));\r\n        return response.data;\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\n\r\nexport const getPost2 = (slug) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"get\",\r\n      url: API_URL + \"/feed/post/\"+slug,\r\n    })\r\n      .then(function (response) {\r\n        dispatch(onGetPost(response.data.posts));\r\n        return response.data;\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\nexport function onGetPosts(payload) {\r\n  return {\r\n    type: actionTypes.GET_POSTS,\r\n    payload: payload,\r\n  };\r\n}\r\n\r\nexport function onGetPost(payload) {\r\n  return {\r\n    type: actionTypes.GET_POST,\r\n    payload: payload,\r\n  };\r\n}\r\n\r\n\r\n\r\nexport const login = (payload, history) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"post\",\r\n      url: API_URL + \"/admin/auth/login\",\r\n      data: payload,\r\n    })\r\n      .then(function (response) {\r\n        localStorage.setItem(\"codemedium-token-admin\", response.data.token);\r\n        dispatch(loginAction(response.data.user));\r\n        history.push(\"/admin/posts/home\");\r\n        return response.data;\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n        alert(\"Wrong credentials\");\r\n      });\r\n  };\r\n};\r\n\r\nexport function loginAction(payload) {\r\n  return {\r\n    type: actionTypes.LOGIN_SUCCESS,\r\n    payload,\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}